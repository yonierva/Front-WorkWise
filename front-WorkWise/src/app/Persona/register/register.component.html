<div class="container-logo">
        <a class="navbar-brand d-flex justify-content-center align-items-center sidebar-brand m-0" th:href="@{/}">
            <img class="logo" id="logo" src="/Imagenes/wknblack.png">
        </a>
    </div>
    <div class="contenedor">
        <div class="container-register">
            <div class="card">
                <div class="head-card">
                    <h1 data-trad="register.createAccount">Crea una cuenta!</h1>
                </div>
                <p>Da el primer paso al mundo profesional.</p>
                <div class="formulario">
                    <form #registerForm="ngForm" (ngSubmit)="register()">
                        <div *ngIf="step === 1"  class="animate__animated animate__fadeIn">
                            <div class="row">
                                <div class="contenedor-input">
                                    <div class="col-sm-6 mb-3">
                                        <input class="form-control form-control-user" type="text" [(ngModel)]="persona.nombre" id="nombre" placeholder=""
                                            name="nombre" required>
                                        <label for="nombre" class="label">Nombre(s)</label>
                                    </div>
                                </div>
                                <div class="contenedor-input">
                                    <div class="col-sm-6 mb-3">
                                        <input class="form-control form-control-user" type="text" [(ngModel)]="persona.apellido"  id="apellido"
                                            placeholder="" name="apellido" required>
                                        <label for="apellido" class="label" >Apellido(s)</label>
                                    </div>
                                </div>
                            </div>
                            <div class="mb-3">
                                <input class="form-control form-control-user" type="email" [(ngModel)]="persona.usuario.email"  aria-describedby="emailHelp"
                                    placeholder="" id="email" name="email" style= "width:98%;" required>
                                <label for="email" class="label" data-trad="register.email">Correo electrónico</label>
                                <div class="validation-message" id="emailValidation" style="display: none;"></div>
                            </div>
                            <div class="row">
                                <div class="contenedor-input">
                                    <div class="col-sm-6 mb-3">
                                        <div class="password-input">
                                            <input class="form-control form-control-user" type="password" [(ngModel)]="persona.usuario.password" (input)="checkPasswordStrength(persona.usuario.password)" placeholder=""
                                                id="password" name="password" minlength="6" maxlength="45" required>
                                            <i class="fas fa-eye toggle-password" (click)="togglePasswordVisibility('password')"></i>
                                            <label for="password" class="label">Contraseña</label>
                                            
                                        </div>
                                        <div class="password-strength-container">
                                            <div class="password-strength-bar" [style.width]="passwordStrength.width" [style.background-color]="passwordStrength.color"></div>
                                            <div class="password-strength-text">{{ passwordStrength.text }}</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="contenedor-input">
                                    <div class="col-sm-6 mb-3">
                                        <div class="password-input">
                                            <input class="form-control form-control-user" type="password" placeholder="" name="confirmPassword" id="confirm-password" minlength="6" maxlength="45"  [(ngModel)]="confirmPassword" required>
                                            <i class="fas fa-eye toggle-password" (click)="togglePasswordVisibility('confirm-password')"></i>
                                            <label for="confirm-password" class="label">Repetir contraseña</label>
                                            
                                        </div>
                                        <div class="password-match" id="passwordMatch">
                                            <span id="passwordMatchIcon"></span>
                                            <span id="passwordMatchText"></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="contenedor-input">
                                    <div class="col-sm-6 mb-3">
                                        <input class="form-control form-control-user" type="text" [(ngModel)]="persona.numero_documento"  placeholder="" id="cedula"
                                            name="identificacion" minlength="7" maxlength="10" required>
                                        <label for="cedula" class="label" data-trad="register.documentNumber">Número de
                                            Documento</label>
                                    </div>
                                </div>
                                <div class="contenedor-input">
                                    <div id="select" class="col-sm-6 mb-3 mb-sm-0">
                                        <select id="tipo-identificacion" name="tipoIdentificacion"
                                            class="form-control form-control-btn" [(ngModel)]="persona.tipo_Documento"  required>
                                            <option value="" disabled hidden></option>
                                            <option value="cc" >Cédula de Ciudadanía</option>
                                            <option value="ce" >Cédula de Extranjería</option>
                                            <option value="rc" >Registro Civil</option>
                                            <option value="dni">Documento de Identidad
                                            </option>
                                        </select>
                                        <label for="tipo-identificacion" class="label-active">Tipo de documento</label>
                                    </div>
                                </div>
                            </div>

                            <button type="button" class="btn btn-primary d-block btn-user w-100" (click)="nextStep()" 
                            [disabled]="!persona.nombre || !persona.apellido || !persona.usuario.password ||
                            !confirmPassword || !persona.usuario.email || !persona.numero_documento || !persona.tipo_Documento 
                            || (persona.usuario.password !== confirmPassword)">
                                Siguiente
                            </button>
                        </div>
                        <div *ngIf="step === 2" class="animate__animated animate__fadeIn">
                            <div class="container-back">
                                <button type="button" (click)="prevStep()" class="back_a" style="border: none;">
                                    <i class="fas fa-arrow-left back"></i>
                                </button>
                            </div>
                            <div class="row">
                                <div class="contenedor-input">
                                    <div class="col-sm-6 mb-3">
                                        <input class="form-control form-control-user"  id="fecha" type="text"
                                        name="fechaNacimiento" [(ngModel)]="persona.fecha_Nacimiento" placeholder="" readonly required>
                                        <label for="fecha" class="label">Fecha de Nacimiento</label>
                                        <i class="fas fa-calendar-alt fecha-icon"></i>
                                    </div>
                                </div>
                                <div class="contenedor-input">
                                    <div id="select-genero" class="col-sm-6 mb-3">
                                        <select name="genero" id="genero" class="form-control form-control-btn" [(ngModel)]="persona.genero"  required>
                                            <option value="" disabled hidden></option>
                                            <option value="Female">Femenino</option>
                                            <option value="Male" >Masculino</option>
                                            <option value="No-espefic" >Prefiero no
                                                decirlo</option>
                                        </select>
                                        <label for="tipo-identificacion" class="label-active">Genero</label>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="contenedor-input">
                                    <div class="col-sm-6 mb-3">
                                        <select name="tipoTelefono" id="tipoTelefono" class="form-control form-control-btn" [(ngModel)]="persona.tipo_telefono"  required>
                                            <option value="" disabled hidden></option>
                                            <option value="Fijo">Fijo</option>
                                            <option value="Celular">Celular</option>
                                        </select>
                                        <label for="tipoTelefono" class="label-active">Tipo de telefono</label>
                                    </div>
                                </div>
                                <div class="contenedor-input">
                                    <div id="select-genero" class="col-sm-6 mb-3">
                                        <input class="form-control form-control-user" type="text" [(ngModel)]="persona.telefono"  placeholder="" id="telefono"
                                            name="identificacion" minlength="10" maxlength="10" required>
                                        <label for="telefono" class="label" data-trad="register.documentNumber">Número de telefono</label>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="contenedor-input">
                                    <div class="col-sm-6 mb-3">
                                        <select name="profesion" id="profesion" class="form-control form-control-btn" [(ngModel)]="persona.profesion" required>
                                            <option value="" disabled hidden></option>
                                            <option value="ing-sistemas">ing-sistemas</option>
                                            <option value="medico">medico</option>
                                        </select>
                                        <label for="tipoTelefono" class="label-active">profesion</label>
                                    </div>
                                </div>
                                <div class="contenedor-input">
                                    <div class="col-sm-6 mb-3">
                                        <select name="direccion" id="direccion" class="form-control form-control-btn" [(ngModel)]="persona.direccion"  required>
                                            <option value="" disabled hidden></option>
                                            <option value="socorro">socorro</option>
                                            <option value="campestre">campestre</option>
                                        </select>
                                        <label for="tipoTelefono" class="label-active">Direccion</label>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <button class="btn btn-primary d-block btn-user w-100" type="submit" id="btn-register">Registrarse</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <div class="login">
                <p data-trad="register.haveAccount">Ya tienes una cuenta?</p> <a th:href="@{/login/personas}"
                    data-trad="register.loginHere">Inicia sesión!</a>
            </div>
        </div>
        <div class="curva">
            <div class="container-img"></div>
        </div>
        <!-- Modal para verificación en móviles -->
        <div class="modal fade" id="verificationModal" tabindex="-1" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">
                            <i class="fas fa-envelope verification-icon"></i>
                            Verificación de Correo
                        </h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body" id="mobile-verification-content">
                        <!-- Contenido se insertará dinámicamente -->
                    </div>
                </div>
            </div>
        </div>
    </div>
